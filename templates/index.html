<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title data-i18n="title">Crop Recommendation System</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <style>
      body {
        transition: background-color 0.5s, color 0.5s;
      }
      .light-mode {
        background: #BCBBB8;
        color: black;
      }
      .dark-mode {
        background: #121212;
        color: #ffffff;
      }
      h1 {
        text-align: center;
      }
      .warning {
        color: red;
        font-weight: bold;
        text-align: center;
      }
      .card {
        margin: 20px auto;
        display: flex;
        flex-direction: column;
        align-items: center;
        transition: transform 0.5s;
        background: #68aff7; /* Default dark background for card */
      }
      .card img {
        width: 70px;
        height: 70px;
      }
      .card:hover {
        transform: scale(1.05) rotateY(10deg);
      }
      .container {
        padding-bottom: 10px;
        border-radius: 15px;
      }
      .language-btn {
        margin-left: 10px;
      }
    </style>
  </head>

  <body class="light-mode">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container-fluid">
        <a class="navbar-brand" href="/" data-i18n="navbar_brand">Crop Recommendation System Using Machine Learning</a>
        <div class="d-flex">
          <button class="btn btn-outline-light language-btn" data-lang="en">English</button>
          <button class="btn btn-outline-light language-btn" data-lang="hi">à¤¹à¤¿à¤‚à¤¦à¥€</button>
          <button class="btn btn-outline-light language-btn" data-lang="mr">à¤®à¤°à¤¾à¤ à¥€</button>
          <button class="btn btn-outline-light" id="toggle-mode">Toggle Dark Mode</button>
        </div>
      </div>
    </nav>

    <div class="container my-3 mt-3">
      <h1 class="text-success" data-i18n="header">Crop Recommendation System<span class="text-success">ðŸŒ±</span></h1>

      <form action="/predict" method="POST">
        <div class="row">
          <div class="col-md-4">
            <label for="Nitrogen" data-i18n="label_nitrogen">Nitrogen</label>
            <input type="number" id="Nitrogen" name="Nitrogen" placeholder="Enter Nitrogen" class="form-control" required step="0" data-placeholder="placeholder_nitrogen">
          </div>
          <div class="col-md-4">
            <label for="Phosporus" data-i18n="label_phosphorus">Phosphorus</label>
            <input type="number" id="Phosporus" name="Phosporus" placeholder="Enter Phosphorus" class="form-control" required step="00" data-placeholder="placeholder_phosphorus">
          </div>
          <div class="col-md-4">
            <label for="Potassium" data-i18n="label_potassium">Potassium</label>
            <input type="number" id="Potassium" name="Potassium" placeholder="Enter Potassium" class="form-control" required step="0" data-placeholder="placeholder_potassium">
          </div>
        </div>

        <div class="row mt-4">
          <div class="col-md-4">
            <label for="Temperature" data-i18n="label_temperature">Temperature</label>
            <input type="number" step="0.01" id="Temperature" name="Temperature" placeholder="Enter Temperature in Â°C" class="form-control" required data-placeholder="placeholder_temperature">
          </div>
          <div class="col-md-4">
            <label for="Humidity" data-i18n="label_humidity">Humidity</label>
            <input type="number" step="0.01" id="Humidity" name="Humidity" placeholder="Enter Humidity in %" class="form-control" required data-placeholder="placeholder_humidity">
          </div>
          <div class="col-md-4">
            <label for="pH" data-i18n="label_ph">pH</label>
            <input type="number" step="0.01" id="pH" name="pH" placeholder="Enter pH value" class="form-control" required data-placeholder="placeholder_ph">
          </div>
        </div>

        <div class="row mt-4">
          <div class="col-md-4">
            <label for="Rainfall" data-i18n="label_rainfall">Rainfall</label>
            <input type="number" step="0.01" id="Rainfall" name="Rainfall" placeholder="Enter Rainfall in mm" class="form-control" required data-placeholder="placeholder_rainfall">
          </div>
        </div>

        <div class="row mt-4">
          <div class="col-md-12 text-center">
            <button type="submit" class="btn btn-primary btn-lg" data-i18n="button_submit">Get Recommendation</button>
          </div>
        </div>
      </form>

      {% if result %}
        <div class="card">
          <img src="{{url_for('static', filename='crop.png')}}" class="card-img-top" alt="...">
          <div class="card-body">
            <h5 class="card-title" data-i18n="result_title">Recommended Crop for Cultivation is:</h5>
            <p class="card-text">{{ result }}</p>
          </div>
        </div>
      {% endif %}
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe" crossorigin="anonymous"></script>
    <script>
      // Translation dictionaries
      const translations = {
        en: {
          title: "Crop Recommendation System",
          navbar_brand: "Crop Recommendation System Using Machine Learning",
          header: "Crop Recommendation SystemðŸŒ±",
          label_nitrogen: "Nitrogen",
          placeholder_nitrogen: "Enter Nitrogen",
          label_phosphorus: "Phosphorus",
          placeholder_phosphorus: "Enter Phosphorus",
          label_potassium: "Potassium",
          placeholder_potassium: "Enter Potassium",
          label_temperature: "Temperature",
          placeholder_temperature: "Enter Temperature in Â°C",
          label_humidity: "Humidity",
          placeholder_humidity: "Enter Humidity in %",
          label_ph: "pH",
          placeholder_ph: "Enter pH value",
          label_rainfall: "Rainfall",
          placeholder_rainfall: "Enter Rainfall in mm",
          button_submit: "Get Recommendation",
          result_title: "Recommended Crop for Cultivation is:"
        },
        hi: {
          title: "à¤«à¤¸à¤² à¤¸à¤¿à¤«à¤¾à¤°à¤¿à¤¶ à¤ªà¥à¤°à¤£à¤¾à¤²à¥€",
          navbar_brand: "à¤®à¤¶à¥€à¤¨ à¤²à¤°à¥à¤¨à¤¿à¤‚à¤— à¤•à¤¾ à¤‰à¤ªà¤¯à¥‹à¤— à¤•à¤°à¤•à¥‡ à¤«à¤¸à¤² à¤¸à¤¿à¤«à¤¾à¤°à¤¿à¤¶ à¤ªà¥à¤°à¤£à¤¾à¤²à¥€",
          header: "à¤«à¤¸à¤² à¤¸à¤¿à¤«à¤¾à¤°à¤¿à¤¶ à¤ªà¥à¤°à¤£à¤¾à¤²à¥€ðŸŒ±",
          label_nitrogen: "à¤¨à¤¾à¤‡à¤Ÿà¥à¤°à¥‹à¤œà¤¨",
          placeholder_nitrogen: "à¤¨à¤¾à¤‡à¤Ÿà¥à¤°à¥‹à¤œà¤¨ à¤¦à¤°à¥à¤œ à¤•à¤°à¥‡à¤‚",
          label_phosphorus: "à¤«à¥‰à¤¸à¥à¤«à¥‹à¤°à¤¸",
          placeholder_phosphorus: "à¤«à¥‰à¤¸à¥à¤«à¥‹à¤°à¤¸ à¤¦à¤°à¥à¤œ à¤•à¤°à¥‡à¤‚",
          label_potassium: "à¤ªà¥‹à¤Ÿà¥‡à¤¶à¤¿à¤¯à¤®",
          placeholder_potassium: "à¤ªà¥‹à¤Ÿà¥‡à¤¶à¤¿à¤¯à¤® à¤¦à¤°à¥à¤œ à¤•à¤°à¥‡à¤‚",
          label_temperature: "à¤¤à¤¾à¤ªà¤®à¤¾à¤¨",
          placeholder_temperature: "Â°C à¤®à¥‡à¤‚ à¤¤à¤¾à¤ªà¤®à¤¾à¤¨ à¤¦à¤°à¥à¤œ à¤•à¤°à¥‡à¤‚",
          label_humidity: "à¤¨à¤®à¥€",
          placeholder_humidity: "à¤¨à¤®à¥€ (%) à¤¦à¤°à¥à¤œ à¤•à¤°à¥‡à¤‚",
          label_ph: "à¤ªà¥€à¤à¤š",
          placeholder_ph: "à¤ªà¥€à¤à¤š à¤®à¤¾à¤¨ à¤¦à¤°à¥à¤œ à¤•à¤°à¥‡à¤‚",
          label_rainfall: "à¤µà¤°à¥à¤·à¤¾",
          placeholder_rainfall: "à¤®à¤¿à¤®à¥€ à¤®à¥‡à¤‚ à¤µà¤°à¥à¤·à¤¾ à¤¦à¤°à¥à¤œ à¤•à¤°à¥‡à¤‚",
          button_submit: "à¤¸à¤¿à¤«à¤¾à¤°à¤¿à¤¶ à¤ªà¥à¤°à¤¾à¤ªà¥à¤¤ à¤•à¤°à¥‡à¤‚",
          result_title: "à¤•à¥ƒà¤·à¤¿ à¤•à¥‡ à¤²à¤¿à¤ à¤…à¤¨à¥à¤¶à¤‚à¤¸à¤¿à¤¤ à¤«à¤¸à¤² à¤¹à¥ˆ:"
        },
        mr: {
          title: "à¤ªà¥€à¤• à¤¶à¤¿à¤«à¤¾à¤°à¤¸à¥€ à¤ªà¥à¤°à¤£à¤¾à¤²à¥€",
          navbar_brand: "à¤®à¤¶à¥€à¤¨ à¤²à¤°à¥à¤¨à¤¿à¤‚à¤— à¤µà¤¾à¤ªà¤°à¥‚à¤¨ à¤ªà¥€à¤• à¤¶à¤¿à¤«à¤¾à¤°à¤¸à¥€ à¤ªà¥à¤°à¤£à¤¾à¤²à¥€",
          header: "à¤ªà¥€à¤• à¤¶à¤¿à¤«à¤¾à¤°à¤¸à¥€ à¤ªà¥à¤°à¤£à¤¾à¤²à¥€ðŸŒ±",
          label_nitrogen: "à¤¨à¤¾à¤¯à¤Ÿà¥à¤°à¥‹à¤œà¤¨",
          placeholder_nitrogen: "à¤¨à¤¾à¤¯à¤Ÿà¥à¤°à¥‹à¤œà¤¨ à¤ªà¥à¤°à¤µà¤¿à¤·à¥à¤Ÿ à¤•à¤°à¤¾",
          label_phosphorus: "à¤«à¥‰à¤¸à¥à¤«à¤°à¤¸",
          placeholder_phosphorus: "à¤«à¥‰à¤¸à¥à¤«à¤°à¤¸ à¤ªà¥à¤°à¤µà¤¿à¤·à¥à¤Ÿ à¤•à¤°à¤¾",
          label_potassium: "à¤ªà¥‹à¤Ÿà¥…à¤¶à¤¿à¤¯à¤®",
          placeholder_potassium: "à¤ªà¥‹à¤Ÿà¥…à¤¶à¤¿à¤¯à¤® à¤ªà¥à¤°à¤µà¤¿à¤·à¥à¤Ÿ à¤•à¤°à¤¾",
          label_temperature: "à¤¤à¤¾à¤ªà¤®à¤¾à¤¨",
          placeholder_temperature: "Â°C à¤®à¤§à¥à¤¯à¥‡ à¤¤à¤¾à¤ªà¤®à¤¾à¤¨ à¤ªà¥à¤°à¤µà¤¿à¤·à¥à¤Ÿ à¤•à¤°à¤¾",
          label_humidity: "à¤†à¤°à¥à¤¦à¥à¤°à¤¤à¤¾",
          placeholder_humidity: "à¤†à¤°à¥à¤¦à¥à¤°à¤¤à¤¾ (%) à¤ªà¥à¤°à¤µà¤¿à¤·à¥à¤Ÿ à¤•à¤°à¤¾",
          label_ph: "à¤ªà¥€à¤à¤š",
          placeholder_ph: "à¤ªà¥€à¤à¤š à¤®à¥‚à¤²à¥à¤¯ à¤ªà¥à¤°à¤µà¤¿à¤·à¥à¤Ÿ à¤•à¤°à¤¾",
          label_rainfall: "à¤ªà¤¾à¤Šà¤¸",
          placeholder_rainfall: "à¤®à¤¿à¤®à¥€ à¤®à¤§à¥à¤¯à¥‡ à¤ªà¤¾à¤Šà¤¸ à¤ªà¥à¤°à¤µà¤¿à¤·à¥à¤Ÿ à¤•à¤°à¤¾",
          button_submit: "à¤¶à¤¿à¤«à¤¾à¤°à¤¸à¥€ à¤®à¤¿à¤³à¤µà¤¾",
          result_title: "à¤•à¥ƒà¤·à¥€à¤¸à¤¾à¤ à¥€ à¤¶à¤¿à¤«à¤¾à¤°à¤¸ à¤•à¥‡à¤²à¥‡à¤²à¥€ à¤ªà¥€à¤• à¤†à¤¹à¥‡:"
        }
      };

      // Function to update the text based on selected language
      function updateLanguage(lang) {
        document.querySelectorAll('[data-i18n]').forEach(element => {
          const key = element.getAttribute('data-i18n');
          if (translations[lang][key]) {
            element.textContent = translations[lang][key];
          }
        });

        // Update placeholders
        document.querySelectorAll('[data-placeholder]').forEach(element => {
          const key = element.getAttribute('data-placeholder');
          if (translations[lang][key]) {
            element.setAttribute('placeholder', translations[lang][key]);
          }
        });

        // Update the page title
        document.title = translations[lang]['title'];
      }

      // Initialize language based on localStorage or default to English
      let currentLang = localStorage.getItem('language') || 'en';
      updateLanguage(currentLang);

      // Add event listeners to language buttons
      document.querySelectorAll('.language-btn').forEach(button => {
        button.addEventListener('click', () => {
          const selectedLang = button.getAttribute('data-lang');
          currentLang = selectedLang;
          updateLanguage(selectedLang);
          localStorage.setItem('language', selectedLang);
        });
      });

      // Dark mode toggle
      // Check for saved mode in localStorage
      const isDarkMode = localStorage.getItem('darkMode') === 'true';
      if (isDarkMode) {
        document.body.classList.add('dark-mode');
        document.body.classList.remove('light-mode');
      }

      const toggleButton = document.getElementById('toggle-mode');
      toggleButton.addEventListener('click', () => {
        document.body.classList.toggle('dark-mode');
        document.body.classList.toggle('light-mode');
        
        // Save the mode to localStorage
        localStorage.setItem('darkMode', document.body.classList.contains('dark-mode'));
      });
    </script>
  </body>
</html>
